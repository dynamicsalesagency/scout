<!DOCTYPE html>
<html lang="en">

<!-- Mirrored from www.scoutier.com.ng/ by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 22 Jul 2025 10:55:41 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
    <!-- Meta Tags -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
  
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-BGZ0365NTS"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-BGZ0365NTS');
    </script>
  
    <!-- Primary Meta Tags -->
    <title>Scoutier - Advanced Bulk Email Outreach Tool</title>
    <meta name="description" content="Scoutier is an easy-to-use email outreach tool that helps you send personalized emails in bulk. Efficient, fast, and user-friendly.">
    <meta name="keywords" content="Scoutier, email outreach, bulk emails, send emails, email tool, email management">
    <meta name="author" content="Scoutier Team">
    <meta name="robots" content="index, follow">
    
    <!-- Open Graph / Facebook Meta Tags -->
    <meta property="og:title" content="Scoutier - Bulk Email Outreach Tool">
    <meta property="og:description" content="Easily compose and send personalized emails in bulk with Scoutier. A tool built for fast and efficient email outreach.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://www.scoutier.com.ng">
    <meta property="og:image" content="https://www.scoutier.com.ng/assets/images/scoutier-og-image.png">
    <meta property="og:site_name" content="Scoutier">
    
    <!-- Twitter Cards Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Scoutier - Email Outreach Made Simple">
    <meta name="twitter:description" content="Manage and send emails to a list of recipients easily with Scoutier, your tool for bulk email outreach.">
    <meta name="twitter:image" content="https://www.scoutier.com.ng/assets/images/scoutier-twitter-image.png">
    <meta name="twitter:site" content="@scoutier">
    <meta name="twitter:creator" content="@scoutier">
    
    <!-- Canonical URL -->
    <link rel="canonical" href="index.html">

    <!-- Favicon -->
    <link rel="icon" href="../res.cloudinary.com/dib5bkbsy/image/upload/v1732499785/icons8-mail-32_z9jaip.png" type="image/x-icon">

<!-- Remixicon -->
    <link href="../cdn.jsdelivr.net/npm/remixicon/fonts/remixicon.css" rel="stylesheet">

  <!-- BR Cobane Font -->
    <link href='https://fonts.cdnfonts.com/css/br-cobane' rel='stylesheet'>
   
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com/"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        blue: {
                            500: '#1a73e8',
                            600: '#0d62d0'
                        },
                        green: {
                            500: '#34a853'
                        },
                        yellow: {
                            500: '#fbbc05'
                        },
                        red: {
                            500: '#ea4335'
                        }
                    },
                    fontFamily: {
                        ubuntu: ['Ubuntu', 'sans-serif'],
                        lato: ['Ubuntu', 'sans-serif']
                    }
                }
            }
        }
    </script>
    
    
                
    <!-- Structured Data (JSON-LD) -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebSite",
      "name": "Scoutier",
      "url": "https://www.scoutier.com.ng",
      "description": "Scoutier is a bulk email outreach tool designed to help users send personalized emails efficiently to multiple recipients.",
      "publisher": {
        "@type": "Organization",
        "name": "Scoutier",
        "logo": {
          "@type": "ImageObject",
          "url": "https://www.scoutier.com.ng/assets/images/scoutier-logo.png"
        }
      },
      "potentialAction": {
        "@type": "SearchAction",
        "target": "https://www.scoutier.com.ng/search?q={search_term_string}",
        "query-input": "required name=search_term_string"
      }
    }
    </script>
   <style>
    :root {
      --primary-500: #5b21b6;       /* Indigo-700 */
      --accent-500: #0d9488;        /* Teal-600 */
      --warning-500: #f59e0b;       /* Amber-500 */
      --error-500: #ef4444;         /* Red-500 */
      --gray-100: #f3f4f6;          /* Light gray */
      --gray-200: #e5e7eb;
      --gray-300: #d1d5db;
      --gray-700: #374151;
      --gray-800: #1f2937;
      --gray-900: #111827;
    }
    
    /* Base styling with optimized fonts */
    body {
      font-family: 'BR Cobane', sans-serif;
      font-size: 10px;
      line-height: 2;
      color: #202124;
      background-color: #f6f8fc;
    }

    h1, h2, h3, h4, h5, h6 {
      font-family: 'BR Cobane', sans-serif;
      letter-spacing: -0.01em;
      font-weight: 700;
    }
  
    .dark-custom-bg {
      background-color: #1a1c23;
    }

    .dark .bg-card {
      background-color: #1a1c23;
    }

    /* Optimized scrollbar */
    ::-webkit-scrollbar {
      width: 8px;
      height: 8px;
    }

    ::-webkit-scrollbar-track {
      background: #f1f1f1;
    }

    .dark ::-webkit-scrollbar-track {
      background: #252731;
    }

    ::-webkit-scrollbar-thumb {
      background: #c7d2fe;  /* Indigo-200 */
      border-radius: 4px;
    }

    ::-webkit-scrollbar-thumb:hover {
      background: #a5b4fc;  /* Indigo-400 */
    }
    
    /* Optimized email link styles */
    .email-link {
      padding: 4px 6px;
      border-radius: 4px;
      margin-bottom: 4px;
    }
      
    /* Optimized button styles */
    .gmail-btn {
      background-color: var(--primary-500); /* Indigo */
      color: white;
      border-radius: 4px;
      font-weight: 500;
      letter-spacing: 0.25px;
      text-transform: none;
      box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3);
      transition: all 0.1s ease;
    }

    .gmail-btn:hover {
      background-color: #4c1d95; /* Darker indigo */
      box-shadow: 0 1px 3px rgba(60, 64, 67, 0.4);
    }
    
    .gmail-btn:disabled {
      background-color: #c7d2fe; /* Indigo-100 */
      cursor: not-allowed;
    }
    
    .gmail-btn-secondary {
      background-color: white;
      color: var(--primary-500); /* Indigo */
      border: 1px solid #dadce0;
      transition: all 0.1s ease;
    }
    
    .gmail-btn-secondary:hover {
      background-color: #f5f7fa;
      border-color: var(--primary-500); /* Indigo */
    }
    
    .dark .gmail-btn-secondary {
      background-color: #333;
      color: #a78bfa; /* Indigo-300 */
      border-color: #5f6368;
    }
    
    .dark .gmail-btn-secondary:hover {
      background-color: #444;
      border-color: #a78bfa;
    }
    
    /* Optimized focus effects */
    .focus-effect:focus {
      border-color: var(--primary-500) !important; /* Indigo */
      box-shadow: 0 0 0 2px rgba(91, 33, 182, 0.2);
    }

    /* Optimized theme switch */
    .slider {
      position: absolute;
      cursor: pointer;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: #ccc;
      transition: .1s;
      border-radius: 34px;
    }

    .slider:before {
      position: absolute;
      content: "";
      height: 22px;
      width: 22px;
      left: 4px;
      bottom: 4px;
      background-color: white;
      transition: .2s;
      border-radius: 50%;
    }

    input:checked + .slider {
      background-color: var(--accent-500); /* Teal */
    }

    input:checked + .slider:before {
      transform: translateX(30px);
    }

    #themeMenu {
      transition: opacity 0.1s ease-in-out, visibility 0.1s ease-in-out;
    }
   
    /* Optimized textarea scrollbars */
    textarea {
      scrollbar-width: thin;
      scrollbar-color: #dadce0 #f8f9fa;
    }

    .dark textarea {
      scrollbar-color: #5f6368 #202124;
    }
    
    /* Optimized card styling */
    .gmail-card {
      background-color: white;
      border-radius: 8px;
      border: 1px solid rgba(0, 0, 0, 0.05);
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
      transition: box-shadow 0.1s ease;
    }
    
    .gmail-card:hover {
      box-shadow: 0 3px 6px rgba(0, 0, 0, 0.15);
    }
    
    .dark .gmail-card {
      background-color: #1f2430;
      border-color: rgba(255, 255, 255, 0.08);
    }

    /* Optimized input styling */
    .gmail-input {
      border-radius: 4px;
      border: 1px solid #dadce0;
      padding: 8px 12px;
      font-size: 14px;
      transition: all 0.1s ease;
    }
    
    .gmail-input:focus {
      border-color: var(--primary-500); /* Indigo */
      outline: none;
      box-shadow: 0 0 0 2px rgba(91, 33, 182, 0.2);
    }
    
    .dark .gmail-input {
      border-color: #5f6368;
      background-color: #252a38;
      color: #e8eaed;
    }
    
    .dark .gmail-input:focus {
      border-color: #a78bfa; /* Indigo-300 */
    }
    
    /* Color tags */
    .color-tag-blue {
      background-color: var(--primary-500); /* Indigo */
    }
    
    .color-tag-green {
      background-color: var(--accent-500); /* Teal */
    }
    
    .color-tag-yellow {
      background-color: var(--warning-500); /* Amber */
    }
    
    .color-tag-red {
      background-color: var(--error-500); /* Red */
    }
    
    /* Optimized template chips */
    .template-chip {
      display: inline-flex;
      align-items: center;
      padding: 4px 10px;
      background-color: #eef2ff; /* Indigo-50 */
      color: var(--primary-500); /* Indigo */
      border-radius: 16px;
      font-size: 12px;
      margin-right: 8px;
      margin-bottom: 8px;
      cursor: pointer;
      transition: all 0.1s ease;
      border: 1px solid transparent;
    }
    
    .template-chip:hover {
      background-color: #e0e7ff; /* Indigo-100 */
      border-color: var(--primary-500); /* Indigo */
    }
    
    .dark .template-chip {
      background-color: #312e81; /* Indigo-900 */
      color: #a5b4fc; /* Indigo-300 */
    }
    
    .dark .template-chip:hover {
      background-color: #3730a3; /* Indigo-800 */
      border-color: #818cf8; /* Indigo-400 */
    }
    
    /* Optimized floating button */
    .floating-btn {
      position: fixed;
      bottom: 20px;
      right: 20px;
      width: 50px;
      height: 50px;
      border-radius: 50%;
      background-color: var(--accent-500); /* Teal */
      color: white;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
      cursor: pointer;
      transition: all 0.2s ease;
      z-index: 100;
      opacity: 0;
      transform: scale(0);
    }
    
    .floating-btn.visible {
      opacity: 1;
      transform: scale(1);
    }
    
    .floating-btn:hover {
      background-color: #0f766e; /* Darker teal */
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
      transform: scale(1.05);
    }
    
    /* Email validation indicators */
    .validation-indicator {
      display: inline-flex;
      align-items: center;
      padding: 2px 8px;
      border-radius: 12px;
      font-size: 12px;
      margin-right: 8px;
    }
    
    .validation-good {
      background-color: rgba(13, 148, 136, 0.1);
      color: var(--accent-500); /* Teal */
    }
    
    .validation-bad {
      background-color: rgba(239, 68, 68, 0.1);
      color: var(--error-500); /* Red */
    }
    
    .dark .validation-good {
      background-color: rgba(13, 148, 136, 0.25);
    }
    
    .dark .validation-bad {
      background-color: rgba(239, 68, 68, 0.25);
    }
    
    /* Performance optimized animations */
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    
    .animate-fadeIn {
      animation: fadeIn 0.2s ease forwards;
    }
    
    /* Virtual scrolling optimization */
    .email-container {
      contain: layout style paint;
    }
    
    /* GPU acceleration for smooth scrolling */
    .smooth-scroll {
      transform: translateZ(0);
      will-change: transform;
    }
</style>
<link rel="me" href="https://www.blogger.com/profile/03086539832299890802" />
<meta name='google-adsense-platform-account' content='ca-host-pub-1556223355139109'/>
<meta name='google-adsense-platform-domain' content='blogspot.com'/>

<script type="text/javascript" language="javascript">
  // Supply ads personalization default for EEA readers
  // See https://www.blogger.com/go/adspersonalization
  adsbygoogle = window.adsbygoogle || [];
  if (typeof adsbygoogle.requestNonPersonalizedAds === 'undefined') {
    adsbygoogle.requestNonPersonalizedAds = 1;
  }
</script>

</head>

<body class="bg-gray-100 dark:bg-gray-900 text-gray-800 dark:text-gray-200 min-h-screen flex flex-col">

  <!-- Header Section -->
  <header class="bg-white dark:bg-gray-800 py-3 shadow-sm border-b border-gray-200 dark:border-gray-700 sticky top-0 z-50">
    <div class="container mx-auto flex justify-between items-center px-4 md:px-6">

      <!-- Branding Section -->
      <div class="flex items-center space-x-4">
        <div class="flex items-center space-x-2">
          <div class="flex space-x-1">
            <div class="w-3 h-3 rounded-full color-tag-blue"></div>
            <div class="w-3 h-3 rounded-full color-tag-red"></div>
            <div class="w-3 h-3 rounded-full color-tag-yellow"></div>
            <div class="w-3 h-3 rounded-full color-tag-green"></div>
          </div>
          <!-- Mail Icon -->
          <span class="bg-blue-50 dark:bg-blue-900/30 rounded-full p-2">
            <i class="ri-mail-line text-blue-600 dark:text-blue-400 text-lg"></i>
          </span>
          <h1 class="text-2xl font-bold text-blue-500 dark:text-blue-400">
            Renew
          </h1>
          <span class="md:inline-block text-xs bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300 px-2 py-0.5 rounded-full">Pro</span>
        </div>
      </div>
 
      <!-- Social Links -->
      <div class="flex justify-center items-center gap-4">
        <a href="https://www.x.com/justeldev" class="text-black dark:text-gray-400 hover:text-blue-500 transition-all p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full">
          <i class="ri-twitter-x-fill text-xl"></i>
        </a>
      </div>
      
      <!-- Stats & Theme Toggle -->
      <div class="flex items-center space-x-4">
        <!-- Quick Stats (Hidden on mobile) -->
        <div class="hidden md:flex items-center space-x-6 mr-4">
          <div class="flex items-center space-x-1">
            <i class="ri-check-double-line text-green-500"></i>
            <span class="text-sm"><span id="headerSentCount" class="font-medium">0</span> sent</span>
          </div>
          <div class="flex items-center space-x-1">
            <i class="ri-time-line text-blue-500"></i>
            <span class="text-sm"><span id="headerRemainingCount" class="font-medium">0</span> pending</span>
          </div>
        </div>

        <!-- Theme Toggle and Dropdown -->
        <div class="relative">
          <!-- Dark Mode Toggle -->
          <button id="darkModeToggle" class="text-blue-500 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 transition-all p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700">
            <i class="ri-moon-line ri-lg hidden" id="darkIcon"></i>
            <i class="ri-sun-line ri-lg" id="lightIcon"></i>
          </button>

          <!-- Dropdown Menu -->
          <ul id="themeMenu" class="absolute right-0 top-11 mt-2 w-48 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 shadow-lg rounded-lg opacity-0 invisible transition-all duration-300 z-50 border border-gray-200 dark:border-gray-700">
            <li data-theme="system" class="p-3 hover:bg-gray-100 dark:hover:bg-gray-700 cursor-pointer rounded-t-lg flex items-center gap-2">
              <i class="ri-device-line text-green-500"></i> System
            </li>
            <li data-theme="light" class="p-3 hover:bg-gray-100 dark:hover:bg-gray-700 cursor-pointer flex items-center gap-2">
              <i class="ri-sun-line text-yellow-500"></i> Light
            </li>
            <li data-theme="dark" class="p-3 hover:bg-gray-100 dark:hover:bg-gray-700 cursor-pointer rounded-b-lg flex items-center gap-2">
              <i class="ri-moon-line text-blue-500"></i> Dark
            </li>
          </ul>
        </div>
      </div>
    </div>
  </header>

  <!-- Main Container -->
  <div class="container mx-auto px-4 flex-grow py-6">
    <!-- Search Bar Section -->
    <div id="searchSection" class="mb-6 flex justify-center">
      <div class="relative w-full max-w-2xl">
        <!-- Search Input -->
        <div class="flex items-center border border-gray-300 dark:border-gray-600 rounded-lg overflow-hidden shadow-sm focus-within:ring-2 focus-within:ring-blue-500 transition-all bg-white dark:bg-gray-800">
          <i class="ri-search-line px-4 text-gray-400 dark:text-gray-500 text-xl"></i>
          <input 
            type="text" 
            id="emailSearch" 
            placeholder="Search an email or filter by status" 
            class="flex-1 px-3 py-3 bg-transparent focus:outline-none text-gray-700 dark:text-gray-300 focus-effect"
          />
          <div class="px-3 flex items-center space-x-2">
            <span class="text-xs text-gray-500 dark:text-gray-400 hidden md:inline">Filter:</span>
            <button id="filterAll" class="text-xs px-2 py-1 rounded bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300">All</button>
            <button id="filterSent" class="text-xs px-2 py-1 rounded bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300">Sent</button>
            <button id="filterPending" class="text-xs px-1 py-1 rounded bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300">Pending</button>
          </div>
        </div>

        <!-- Search Alert -->
        <small 
          id="searchAlert" 
          class="hidden block mt-2 text-sm text-red-500 dark:text-red-400 text-center"
        >
          <i class="ri-alert-line"></i> Email not found!
        </small>
      </div>
    </div>

    <!-- Main Content Grid -->
    <div class="grid grid-cols-1 lg:grid-cols-4 gap-6">
      
      <!-- Left Column (3/4) -->
      <div class="lg:col-span-3 space-y-6">
        <!-- Main Tool Form -->
        <div class="gmail-card p-6">
          <!-- Bulk Outreach Section -->
          <div class="flex items-center justify-between mb-6">
            <h2 class="text-xl font-bold flex items-center gap-2 text-green-500 dark:text-gray-100">
              <i class="ri-send-plane-fill text-red-500"></i>
              Bulk Mail Send
            </h2>
            <span class="text-sm text-blue-500 dark:text-blue-400 font-medium">Powered by </span>
          </div>

          <!-- Form for composing bulk emails -->
          <form id="emailForm" class="space-y-5">
            <!-- Recipients Section -->
            <div>
              <label for="recipients" class="block text-sm font-medium flex items-center gap-2 text-gray-700 dark:text-gray-300 mb-2">
                <i class="ri-mail-line text-blue-500"></i>
                Recipients Email <small class="ml-2 text-xs text-gray-500 dark:text-gray-400">(Max 10,000)</small>
              </label>
              <textarea
                id="recipients"
                class="w-full gmail-input resize-none focus-effect"
                rows="5"
                placeholder="Enter each email on a new line"
                required
              ></textarea>
              
              <!-- Email Validation Stats -->
              <div class="flex flex-wrap items-center mt-2 text-xs text-gray-600 dark:text-gray-400">
                <div id="validEmailsIndicator" class="validation-indicator validation-good mr-2 mb-1">
                  <i class="ri-checkbox-circle-line mr-1"></i>
                  <span>Valid: <span id="validEmails" class="font-medium">0</span></span>
                </div>
                <div id="invalidEmailsIndicator" class="validation-indicator validation-bad mr-2 mb-1">
                  <i class="ri-error-warning-line mr-1"></i>
                  <span>Invalid: <span id="invalidEmails" class="font-medium">0</span></span>
                </div>
                <div class="mr-2 mb-1">
                  <span>Total: <span id="totalEmails" class="font-medium">0</span></span>
                </div>
              </div>
            </div>

            <!-- Subject Section -->
            <div>
              <label for="subject" class="block text-sm font-medium flex items-center gap-2 text-gray-700 dark:text-gray-300 mb-2">
                <i class="ri-pencil-line text-yellow-500"></i>
                Subject Line <small class="ml-2 text-xs text-gray-500 dark:text-gray-400">(Max 200 characters)</small>
              </label>
              <input
                type="text"
                id="subject"
                class="w-full gmail-input focus-effect"
                placeholder="Email Subject"
              />
              
              <!-- Subject Templates -->
              <div class="flex flex-wrap mt-2">
                <div class="template-chip" data-target="subject" data-template="Quick question about {name}">
                  <i class="ri-question-line mr-1"></i> Quick question
                </div>
                <div class="template-chip" data-target="subject" data-template="Partnership opportunity for {name}">
                  <i class="ri-handshake-line mr-1"></i> Partnership
                </div>
                <div class="template-chip" data-target="subject" data-template="Exclusive offer for {name}">
                  <i class="ri-gift-line mr-1"></i> Exclusive offer
                </div>
              </div>
              
              <div class="flex justify-end mt-1">
                <span id="subjectCount" class="text-xs text-gray-500 dark:text-gray-400">0/200</span>
              </div>
            </div>

            <!-- Message Body Section -->
            <div>
              <label for="body" class="block text-sm font-medium flex items-center gap-2 text-gray-700 dark:text-gray-300 mb-2">
                <i class="ri-file-text-line text-green-500"></i>
                Message Body <small class="ml-2 text-xs text-gray-500 dark:text-gray-400">(Max 2000 characters)</small>
              </label>
              <textarea
                id="body"
                class="w-full gmail-input resize-none focus-effect"
                rows="6"
                placeholder="Write your message here... Use {name} to personalize your messages."
                required
              ></textarea>
              
              <!-- Body Templates -->
              <div class="flex flex-wrap mt-2">
                <div class="template-chip" data-target="body" data-template="Hi {name},&#10;&#10;I hope this email finds you well. I wanted to reach out about...">
                  <i class="ri-chat-1-line mr-1"></i> Basic intro
                </div>
                <div class="template-chip" data-target="body" data-template="Hello {name},&#10;&#10;I noticed your work on [project/company] and was impressed by...">
                  <i class="ri-user-voice-line mr-1"></i> Personalized intro
                </div>
                <div class="template-chip" data-target="body" data-template="Dear {name},&#10;&#10;I'm writing to invite you to...">
                  <i class="ri-calendar-event-line mr-1"></i> Invitation
                </div>
              </div>
              
              <div class="flex justify-between items-center mt-2">
                <div class="text-xs text-blue-600 dark:text-blue-400 flex items-center">
                  <i class="ri-information-line mr-1"></i>
                  <span>Use {name} for smart personalization</span>
                </div>
                <span id="bodyCount" class="text-xs text-gray-500 dark:text-gray-400">0/2000</span>
              </div>
            </div>

            <!-- Submit Button -->
            <button type="submit" class="w-full gmail-btn py-3 px-6 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all flex items-center justify-center gap-2">
              <i class="ri-send-plane-2-line"></i>
              Generate Emails
            </button>
          </form>
        </div>

        <!-- File Upload Section -->
        <div class="gmail-card p-6">
          <h4 class="text-lg font-medium flex items-center gap-2 mb-3 text-green-500 dark:text-gray-100">
            <i class="ri-upload-cloud-line text-red-500 text-xl"></i>
            Upload CSV or TXT
          </h4>

          <p class="text-sm text-gray-500 dark:text-gray-400 mb-4">
            Upload a file containing email addresses. (Max. 10,000)
          </p>

          <div class="flex items-start gap-2 text-sm text-gray-700 dark:text-gray-300 bg-yellow-50 dark:bg-yellow-900/20 border-l-4 border-yellow-500 rounded-r-lg p-3 mb-5">
            <i class="ri-lightbulb-flash-line text-lg mt-0.5 text-yellow-500"></i>
            <p>
              Split file list with over 10,000 emails into smaller parts to avoid lag or crashes.
            </p>
          </div>

          <!-- Upload Controls -->
          <div class="flex flex-col sm:flex-row items-center gap-4">
            <!-- File Selector -->
            <label
              for="csvUpload"
              class="cursor-pointer gmail-btn-secondary py-2 px-4 rounded-lg transition-all flex items-center gap-2 file-upload-btn w-full sm:w-auto justify-center" 
            >
              <i class="ri-file-add-line text-blue-500"></i> Choose File
            </label>
            <input type="file" id="csvUpload" class="hidden" accept=".csv, .txt" />

            <!-- File Name Display -->
            <div id="fileName" class="text-sm truncate w-full text-gray-600 dark:text-gray-400 bg-gray-100 dark:bg-gray-700 px-3 py-2 rounded-lg">
              No file selected
            </div>

            <!-- Upload Button -->
            <button
              id="uploadCSV"
              class="gmail-btn py-2 px-4 rounded-lg transition-all flex items-center gap-2 w-full sm:w-auto justify-center"
            >
              <i class="ri-upload-cloud-line"></i>
              Upload
            </button>
          </div>
        </div>
        
        <!-- Email Templates Section -->
        <div class="gmail-card p-6">
          <h4 class="text-lg font-medium flex items-center gap-2 mb-4 text-blue-500 dark:text-gray-100">
            <i class="ri-file-list-3-line text-blue-500"></i>
            Email Templates
          </h4>
          
          <div id="templatesContainer" class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <!-- Default Templates -->
            <div class="border border-gray-200 dark:border-gray-700 rounded-lg p-4 hover:border-blue-300 dark:hover:border-blue-700 transition-all cursor-pointer" data-template-subject="Follow-up with {name}" data-template-body="Hello {name},&#10;&#10;I hope you're doing well. I'm following up on our previous conversation about [topic].&#10;&#10;I wanted to check if you've had a chance to review the information I sent and if you have any questions I can answer.&#10;&#10;Looking forward to your response.&#10;&#10;Best regards,&#10;[Your Name]">
              <div class="flex justify-between items-start mb-2">
                <h5 class="font-medium text-gray-800 dark:text-gray-200">Follow-up Email</h5>
                <span class="text-xs bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-300 px-2 py-0.5 rounded">Sales</span>
              </div>
              <p class="text-sm text-gray-500 dark:text-gray-400 mb-3 line-clamp-2">A gentle follow-up email for prospects who haven't responded.</p>
              <button class="text-xs text-blue-500 hover:text-blue-700 dark:hover:text-blue-300 flex items-center">
                <i class="ri-add-line mr-1"></i> Use Template
              </button>
            </div>
            
            <div class="border border-gray-200 dark:border-gray-700 rounded-lg p-4 hover:border-blue-300 dark:hover:border-blue-700 transition-all cursor-pointer" data-template-subject="Special offer for {name}" data-template-body="Dear {name},&#10;&#10;I'm excited to share an exclusive offer with you!&#10;&#10;For a limited time, we're offering [specific offer details] to our valued contacts.&#10;&#10;To take advantage of this special offer, simply [action step].&#10;&#10;This offer expires on [date], so don't miss out!&#10;&#10;Best regards,&#10;[Your Name]">
              <div class="flex justify-between items-start mb-2">
                <h5 class="font-medium text-gray-800 dark:text-gray-200">Special Offer</h5>
                <span class="text-xs bg-yellow-100 text-yellow-700 dark:bg-yellow-900 dark:text-yellow-300 px-2 py-0.5 rounded">Marketing</span>
              </div>
              <p class="text-sm text-gray-500 dark:text-gray-400 mb-3 line-clamp-2">A promotional email template for special offers and limited-time deals.</p>
              <button class="text-xs text-blue-500 hover:text-blue-700 dark:hover:text-blue-300 flex items-center">
                <i class="ri-add-line mr-1"></i> Use Template
              </button>
            </div>
          </div>
          
          <!-- Add Custom Template Button -->
          <div class="mt-4 flex justify-center">
            <button id="addTemplateBtn" class="gmail-btn-secondary py-2 px-4 rounded-lg flex items-center gap-2">
              <i class="ri-add-line"></i>
              Create Custom Template
            </button>
          </div>
        </div>
        
        <!-- Email Scheduling Section -->
        <div class="gmail-card p-6">
          <div class="flex items-center justify-between mb-4">
            <h4 class="text-lg font-medium flex items-center gap-2 text-purple-500 dark:text-gray-100">
              <i class="ri-time-line text-purple-500"></i>
              Email Schedule
            </h4>
            <div class="relative">
              <label class="inline-flex items-center cursor-pointer">
                <input type="checkbox" id="scheduleToggle" class="sr-only peer">
                <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"></div>
                <span class="ml-3 text-sm font-medium text-gray-700 dark:text-gray-300">Enable Schedule</span>
              </label>
            </div>
          </div>
          
          <div id="schedulingOptions" class="hidden">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
              <div>
                <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Schedule Date</label>
                <input type="date" id="scheduleDate" class="w-full gmail-input focus-effect" min="">
              </div>
              <div>
                <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Schedule Time</label>
                <input type="time" id="scheduleTime" class="w-full gmail-input focus-effect">
              </div>
            </div>
            
            <div class="bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4">
              <div class="flex items-start space-x-3">
                <i class="ri-information-line text-blue-500 mt-0.5"></i>
                <div>
                  <p class="text-sm text-blue-700 dark:text-blue-300 font-medium">How scheduling works:</p>
                  <ul class="text-xs text-blue-600 dark:text-blue-400 mt-1 space-y-1 list-disc list-inside">
                    <li>Your browser must remain open for scheduled emails to send</li>
                    <li>You'll receive a notification when emails start sending</li>
                    <li>Scheduling is a beta feature and in development mode</li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Right Column (1/4) -->
      <div class="lg:col-span-1 space-y-6">
        <!-- Campaign Stats Card -->
        <div class="gmail-card p-6 bg-gradient-to-br from-blue-500 to-purple-600 text-white">
          <h3 class="text-lg font-medium flex items-center gap-2 mb-4">
            <i class="ri-bar-chart-box-line"></i>
            Campaign Stats
          </h3>
          
          <div class="grid grid-cols-2 gap-4 mb-4">
            <div class="bg-white/10 rounded-lg p-3 text-center">
              <div class="text-2xl font-bold" id="sentCounter">0</div>
              <div class="text-xs opacity-80">Sent</div>
            </div>
            <div class="bg-white/10 rounded-lg p-3 text-center">
              <div class="text-2xl font-bold" id="remainingCounter">0</div>
              <div class="text-xs opacity-80">Remaining</div>
            </div>
          </div>
          
          <div class="bg-white/10 rounded-lg p-3 text-center mb-4">
            <div class="text-3xl font-bold" id="totalCounter">0</div>
            <div class="text-xs opacity-80">Total Generated</div>
          </div>
          
          <div class="h-2 bg-white/20 rounded-full overflow-hidden mb-1">
            <div id="campaignProgress" class="h-full bg-white rounded-full" style="width: 0%"></div>
          </div>
          <div class="text-xs text-center opacity-80">
            <span id="campaignProgressText">0% Complete</span>
          </div>
        </div>

        <!-- Generated Links Section -->
        <div class="gmail-card p-6">
          <div id="mailtoLinks" class="hidden flex flex-col h-full">
            <div class="flex items-center justify-between mb-3">
              <h3 class="text-lg font-medium flex items-center gap-2 text-gray-800 dark:text-gray-100">
                <i class="ri-links-line text-blue-500"></i>
                Generated Emails
              </h3>
              
              <!-- Action Buttons Dropdown -->
              <div class="relative">
                <button id="emailActionsBtn" class="p-1.5 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors">
                  <i class="ri-more-2-fill text-gray-500 dark:text-gray-400"></i>
                </button>
                <div id="emailActionsMenu" class="absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 hidden z-10">
                  <button id="copyEmails" class="w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center rounded-t-lg">
                    <i class="ri-file-copy-line mr-2"></i> Copy All Emails
                  </button>
                  <button id="exportAll" class="w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center">
                    <i class="ri-download-line mr-2"></i> Export All
                  </button>
                  <button id="exportRemaining" class="w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center">
                    <i class="ri-download-line mr-2"></i> Export Remaining
                  </button>
                  <button id="clearHistory" class="w-full text-left px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center rounded-b-lg">
                    <i class="ri-refresh-line mr-2"></i> Clear Sent History
                  </button>
                </div>
              </div>
            </div>

            <p class="text-xs text-gray-500 dark:text-gray-400 mb-3">
              Click an email to open your default mail app. Orange emails = already clicked.
            </p>

            <!-- Generated Links Container with Virtual Scrolling -->
            <div id="generatedLinks" class="space-y-1 text-sm text-gray-800 dark:text-gray-200 email-container smooth-scroll"></div>
          </div>
          
          <!-- Empty State -->
          <div id="emptyState" class="flex flex-col items-center justify-center py-8 text-center">
            <div class="w-16 h-16 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center mb-4">
              <i class="ri-mail-open-line text-blue-500 text-2xl"></i>
            </div>
            <h3 class="text-lg font-medium text-gray-800 dark:text-gray-200 mb-2">No Emails Generated</h3>
            <p class="text-sm text-gray-500 dark:text-gray-400 mb-4">
              Add recipients and click "Generate Emails" to create your email links.
            </p>
            <button id="scrollToForm" class="text-sm text-blue-500 hover:text-blue-700 dark:hover:text-blue-300 flex items-center">
              <i class="ri-arrow-up-line mr-1"></i> Go to Email Form
            </button>
          </div>
        </div>
        
        <!-- Email Analytics Section -->
        <div class="gmail-card p-6">
          <h3 class="text-lg font-medium flex items-center gap-2 mb-4 text-gray-800 dark:text-gray-100">
            <i class="ri-pie-chart-fill text-green-500"></i>
            Email Analytics
          </h3>
          
          <div class="space-y-4">
            <!-- Sent vs Remaining Chart -->
            <div class="h-32 flex items-end justify-center gap-4">
              <div class="w-16 flex flex-col items-center">
                <div class="bg-green-500 rounded-t-lg w-full" id="sentChart" style="height: 0%"></div>
                <div class="text-xs mt-2 text-gray-600 dark:text-gray-400">Sent</div>
              </div>
              <div class="w-16 flex flex-col items-center">
                <div class="bg-blue-500 rounded-t-lg w-full" id="remainingChart" style="height: 0%"></div>
                <div class="text-xs mt-2 text-gray-600 dark:text-gray-400">Remaining</div>
              </div>
            </div>
            
            <!-- Email Domain Stats -->
            <div>
              <h4 class="text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Top Email Domains</h4>
              <div id="domainStats" class="space-y-2">
                <div class="flex items-center justify-between text-xs">
                  <span class="text-gray-600 dark:text-gray-400">No data available</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Footer Section -->
  <footer class="mt-12 py-6 border-t border-gray-200 dark:border-gray-800 text-center text-sm text-gray-500 dark:text-gray-400 bg-white dark:bg-gray-800">
    <div class="container mx-auto px-4 space-y-4">
      <!-- Copyright -->
      <p>&copy; <span id="currentYear"></span> Scoutier. All rights reserved.</p>


      <!-- Built with Love -->
      <p class="mt-1">Developed by <span class="font-medium text-blue-500">Vision digital</span></p>

      <!-- Social Links -->
      <div class="flex justify-center items-center gap-4">
        <a href="https://www.x.com/justeldev" class="text-gray-600 dark:text-gray-400 hover:text-blue-500 transition-all p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full">
          <i class="ri-twitter-x-fill text-xl"></i>
        </a>
      </div>
    </div>
  </footer>

  <!-- Floating Action Button -->
  <div id="scrollTopBtn" class="floating-btn">
    <i class="ri-arrow-up-line"></i>
  </div>

  <!-- Template Modal -->
  <div id="templateModal" class="fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center hidden">
    <div class="bg-white dark:bg-gray-800 rounded-lg w-full max-w-md p-6 shadow-xl">
      <div class="flex justify-between items-center mb-4">
        <h3 class="text-lg font-medium text-gray-800 dark:text-gray-200">Create Custom Template</h3>
        <button id="closeTemplateModal" class="text-gray-500 hover:text-gray-700 dark:hover:text-gray-300">
          <i class="ri-close-line text-xl"></i>
        </button>
      </div>
      
      <div class="space-y-4">
        <div>
          <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Template Name</label>
          <input type="text" id="templateName" class="w-full gmail-input focus-effect" placeholder="e.g., Follow-up Email">
        </div>
        
        <div>
          <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Subject Line</label>
          <input type="text" id="templateSubject" class="w-full gmail-input focus-effect" placeholder="e.g., Following up with {name}">
        </div>
        
        <div>
          <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Email Body</label>
          <textarea id="templateBody" class="w-full gmail-input resize-none focus-effect" rows="6" placeholder="e.g., Hi {name},&#10;&#10;I hope this email finds you well..."></textarea>
        </div>
        
        <div>
          <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Category</label>
          <select id="templateCategory" class="w-full gmail-input focus-effect">
            <option value="business">Business</option>
            <option value="sales">Sales</option>
            <option value="marketing">Marketing</option>
            <option value="relationship">Relationship</option>
            <option value="other">Other</option>
          </select>
        </div>
        
        <button id="saveTemplate" class="w-full gmail-btn py-2 px-4 rounded-lg flex items-center justify-center gap-2">
          <i class="ri-save-line"></i>
          Save Template
        </button>
      </div>
    </div>
  </div>

  <script src="../cdn.jsdelivr.net/npm/canvas-confetti%401.5.1/dist/confetti.browser.min.js"></script>
  
  <script>
    // Performance optimized JavaScript
    document.getElementById("currentYear").textContent = new Date().getFullYear();

    // Cached DOM Elements for better performance
    const elements = {
      recipientsInput: document.getElementById('recipients'),
      subjectInput: document.getElementById('subject'),
      bodyInput: document.getElementById('body'),
      subjectCount: document.getElementById('subjectCount'),
      bodyCount: document.getElementById('bodyCount'),
      emailForm: document.getElementById('emailForm'),
      mailtoLinks: document.getElementById('mailtoLinks'),
      emptyState: document.getElementById('emptyState'),
      emailSearch: document.getElementById('emailSearch'),
      searchAlert: document.getElementById('searchAlert'),
      scrollTopBtn: document.getElementById('scrollTopBtn'),
      emailActionsBtn: document.getElementById('emailActionsBtn'),
      emailActionsMenu: document.getElementById('emailActionsMenu'),
      scheduleToggle: document.getElementById('scheduleToggle'),
      schedulingOptions: document.getElementById('schedulingOptions'),
      scheduleDate: document.getElementById('scheduleDate'),
      scheduleTime: document.getElementById('scheduleTime'),
      templateModal: document.getElementById('templateModal'),
      addTemplateBtn: document.getElementById('addTemplateBtn'),
      closeTemplateModal: document.getElementById('closeTemplateModal'),
      saveTemplate: document.getElementById('saveTemplate'),
      filterAll: document.getElementById('filterAll'),
      filterSent: document.getElementById('filterSent'),
      filterPending: document.getElementById('filterPending'),
      templatesContainer: document.getElementById('templatesContainer')
    };

    // Performance optimized data storage
    let emailData = {
      recipients: localStorage.getItem('recipients') || '',
      subject: localStorage.getItem('subject') || '',
      body: localStorage.getItem('body') || ''
    };

    // Set initial values
    elements.recipientsInput.value = emailData.recipients;
    elements.subjectInput.value = emailData.subject;
    elements.bodyInput.value = emailData.body;

    // Set scheduling defaults
    const today = new Date().toISOString().split('T')[0];
    elements.scheduleDate.min = today;
    elements.scheduleDate.value = today;
    
    const now = new Date();
    now.setHours(now.getHours() + 1);
    const hours = String(now.getHours()).padStart(2, '0');
    const minutes = String(now.getMinutes()).padStart(2, '0');
    elements.scheduleTime.value = `${hours}:${minutes}`;

    // Global variables with performance optimization
    let clickedEmails = new Set(JSON.parse(localStorage.getItem('clickedEmails') || '[]'));
    let domainStats = {};
    let allGeneratedEmails = [];
    let isScheduled = false;
    let scheduleTimeout = null;
    let currentFilter = 'all';

    // Optimized character count function
    function updateCharacterCount() {
      const subjectLength = elements.subjectInput.value.length;
      const bodyLength = elements.bodyInput.value.length;

      elements.subjectCount.innerText = `${subjectLength}/200`;
      elements.bodyCount.innerText = `${bodyLength}/2000`;

      if (subjectLength > 200) elements.subjectInput.value = elements.subjectInput.value.slice(0, 200);
      if (bodyLength > 2000) elements.bodyInput.value = elements.bodyInput.value.slice(0, 2000);
    }

    elements.subjectInput.addEventListener('input', updateCharacterCount);
    elements.bodyInput.addEventListener('input', updateCharacterCount);
    updateCharacterCount();

    // Optimized email validation
    function isValidEmail(email) {
      const emailRegex = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;
      return emailRegex.test(email);
    }

    // Throttled email validation for better performance
    let validationTimeout;
    elements.recipientsInput.addEventListener('input', function () {
      clearTimeout(validationTimeout);
      validationTimeout = setTimeout(() => {
        const emails = this.value.split('\n');
        let validEmailsCount = 0;
        let invalidEmailsCount = 0;

        emails.forEach(email => {
          email = email.trim();
          if (email && isValidEmail(email)) {
            validEmailsCount++;
          } else if (email) {
            invalidEmailsCount++;
          }
        });

        document.getElementById('invalidEmails').innerText = invalidEmailsCount;
        document.getElementById('validEmails').innerText = validEmailsCount;
        document.getElementById('totalEmails').innerText = emails.filter(email => email.trim()).length;
        
        const validIndicator = document.getElementById('validEmailsIndicator');
        const invalidIndicator = document.getElementById('invalidEmailsIndicator');
        
        validIndicator.classList.toggle('hidden', validEmailsCount === 0);
        invalidIndicator.classList.toggle('hidden', invalidEmailsCount === 0);
      }, 300);
    });

    // Optimized auto-save with throttling
    let saveTimeout;
    function autoSave() {
      clearTimeout(saveTimeout);
      saveTimeout = setTimeout(() => {
        localStorage.setItem('recipients', elements.recipientsInput.value);
        localStorage.setItem('subject', elements.subjectInput.value);
        localStorage.setItem('body', elements.bodyInput.value);
      }, 5000);
    }

    elements.recipientsInput.addEventListener('input', autoSave);
    elements.subjectInput.addEventListener('input', autoSave);
    elements.bodyInput.addEventListener('input', autoSave);

    // Template functionality with event delegation
    document.addEventListener('click', function(e) {
      if (e.target.closest('.template-chip')) {
        const chip = e.target.closest('.template-chip');
        const target = chip.dataset.target;
        const template = chip.dataset.template;
        
        if (target === 'subject') {
          elements.subjectInput.value = template;
        } else if (target === 'body') {
          elements.bodyInput.value = template.replace(/&#10;/g, '\n');
        }
        updateCharacterCount();
      }
      
      if (e.target.closest('[data-template-subject]')) {
        const template = e.target.closest('[data-template-subject]');
        const subject = template.dataset.templateSubject;
        const body = template.dataset.templateBody.replace(/&#10;/g, '\n');
        
        elements.subjectInput.value = subject;
        elements.bodyInput.value = body;
        updateCharacterCount();
        
        showAlert('Template applied successfully!');
      }
    });

    // Custom template management with localStorage persistence
    function loadCustomTemplates() {
      const customTemplates = JSON.parse(localStorage.getItem('customTemplates') || '[]');
      
      // Remove existing custom templates from DOM
      const existingCustom = elements.templatesContainer.querySelectorAll('.custom-template');
      existingCustom.forEach(template => template.remove());
      
      // Add custom templates (limit to 2)
      customTemplates.slice(0, 2).forEach(template => {
        const templateElement = document.createElement('div');
        templateElement.className = 'border border-gray-200 dark:border-gray-700 rounded-lg p-4 hover:border-blue-300 dark:hover:border-blue-700 transition-all cursor-pointer custom-template';
        templateElement.setAttribute('data-template-subject', template.subject);
        templateElement.setAttribute('data-template-body', template.body);
        
        templateElement.innerHTML = `
          <div class="flex justify-between items-start mb-2">
            <h5 class="font-medium text-gray-800 dark:text-gray-200">${template.name}</h5>
            <div class="flex items-center gap-2">
              <span class="text-xs bg-purple-100 text-purple-700 dark:bg-purple-900 dark:text-purple-300 px-2 py-0.5 rounded">${template.category}</span>
              <button class="delete-template text-red-500 hover:text-red-700 text-xs" data-template-id="${template.id}">
                <i class="ri-delete-bin-line"></i>
              </button>
            </div>
          </div>
          <p class="text-sm text-gray-500 dark:text-gray-400 mb-3 line-clamp-2">Custom template created by you</p>
          <button class="text-xs text-blue-500 hover:text-blue-700 dark:hover:text-blue-300 flex items-center">
            <i class="ri-add-line mr-1"></i> Use Template
          </button>
        `;
        
        elements.templatesContainer.appendChild(templateElement);
      });
    }

    // Delete custom template functionality
    document.addEventListener('click', function(e) {
      if (e.target.closest('.delete-template')) {
        e.stopPropagation();
        const templateId = e.target.closest('.delete-template').dataset.templateId;
        
        if (confirm('Are you sure you want to delete this template?')) {
          let customTemplates = JSON.parse(localStorage.getItem('customTemplates') || '[]');
          customTemplates = customTemplates.filter(template => template.id != templateId);
          localStorage.setItem('customTemplates', JSON.stringify(customTemplates));
          
          loadCustomTemplates();
          showAlert('Template deleted successfully!');
        }
      }
    });

    // Load custom templates on page load
    loadCustomTemplates();

    // Scheduling functionality
    elements.scheduleToggle.addEventListener('change', function() {
      if (this.checked) {
        elements.schedulingOptions.classList.remove('hidden');
        isScheduled = true;
      } else {
        elements.schedulingOptions.classList.add('hidden');
        isScheduled = false;
        if (scheduleTimeout) {
          clearTimeout(scheduleTimeout);
          scheduleTimeout = null;
        }
      }
    });

    // Optimized filter functionality
    function setActiveFilter(filter) {
      currentFilter = filter;
      
      // Update button styles efficiently
      [elements.filterAll, elements.filterSent, elements.filterPending].forEach(btn => {
        btn.classList.remove('bg-blue-100', 'text-blue-700', 'dark:bg-blue-900/30', 'dark:text-blue-300');
        btn.classList.add('bg-gray-100', 'text-gray-700', 'dark:bg-gray-700', 'dark:text-gray-300');
      });
      
      const activeBtn = filter === 'all' ? elements.filterAll : filter === 'sent' ? elements.filterSent : elements.filterPending;
      activeBtn.classList.remove('bg-gray-100', 'text-gray-700', 'dark:bg-gray-700', 'dark:text-gray-300');
      activeBtn.classList.add('bg-blue-100', 'text-blue-700', 'dark:bg-blue-900/30', 'dark:text-blue-300');
      
      applyEmailFilter();
    }

    elements.filterAll.addEventListener('click', () => setActiveFilter('all'));
    elements.filterSent.addEventListener('click', () => setActiveFilter('sent'));
    elements.filterPending.addEventListener('click', () => setActiveFilter('pending'));

    function applyEmailFilter() {
      const emailLinks = document.querySelectorAll('#generatedLinks a');
      
      emailLinks.forEach(link => {
        const email = link.textContent.split('. ')[1];
        const isSent = clickedEmails.has(email);
        
        let shouldShow = true;
        if (currentFilter === 'sent' && !isSent) shouldShow = false;
        if (currentFilter === 'pending' && isSent) shouldShow = false;
        
        link.style.display = shouldShow ? 'block' : 'none';
      });
    }

    // Optimized form submission with faster processing
    elements.emailForm.addEventListener('submit', function (event) {
      event.preventDefault();

      const recipients = elements.recipientsInput.value.split('\n');
      const subjectTemplate = elements.subjectInput.value;
      const bodyTemplate = elements.bodyInput.value;
      
      if (isScheduled) {
        const scheduleDateTime = new Date(`${elements.scheduleDate.value}T${elements.scheduleTime.value}`);
        const now = new Date();
        
        if (scheduleDateTime <= now) {
          showAlert('Please select a future date and time for scheduling.', 'error');
          return;
        }
        
        const delay = scheduleDateTime.getTime() - now.getTime();
        showAlert(`Emails scheduled for ${scheduleDateTime.toLocaleString()}`, 'success');
        
        scheduleTimeout = setTimeout(() => {
          processEmails(recipients, subjectTemplate, bodyTemplate);
        }, delay);
        
        return;
      }
      
      processEmails(recipients, subjectTemplate, bodyTemplate);
    });

    // Highly optimized email processing function
    function processEmails(recipients, subjectTemplate, bodyTemplate) {
      const submitBtn = elements.emailForm.querySelector('button[type="submit"]');
      const originalBtnText = submitBtn.innerHTML;
      submitBtn.innerHTML = '<i class="ri-loader-4-line animate-spin"></i> Processing...';
      submitBtn.disabled = true;
      
      // Faster progress indicator
      const progressContainer = document.createElement('div');
      progressContainer.className = 'mt-4 bg-gray-200 dark:bg-gray-700 rounded-full h-2.5 overflow-hidden';
      progressContainer.innerHTML = '<div id="emailProgress" class="bg-green-500 h-2.5 rounded-full transition-all duration-100" style="width: 0%"></div>';
      submitBtn.parentNode.appendChild(progressContainer);
      
      const progressBar = document.getElementById('emailProgress');
      
      // Clear previous links with optimized DOM manipulation
      const mailtoLinksDiv = document.getElementById('generatedLinks');
      mailtoLinksDiv.innerHTML = '';
      allGeneratedEmails = [];
      
      elements.mailtoLinks.classList.remove('hidden');
      elements.emptyState.classList.add('hidden');
      
      // Optimized batch processing with larger batches for better performance
      const batchSize = 500; // Increased batch size for faster processing
      const totalEmails = recipients.filter(r => r.trim()).length;
      let processedCount = 0;

      updateCounters();

      // Optimized worker code with faster name extraction
      const workerCode = `
        function extractNameFromEmail(email) {
          if (!email || !email.includes('@')) return 'there';
          
          const commonFirstNames = [
            'john', 'jane', 'david', 'mary', 'james', 'linda', 'robert', 'michael', 'sarah', 'william', 
            'patricia', 'joseph', 'jennifer', 'thomas', 'elizabeth', 'charles', 'susan', 'daniel', 'margaret',
            'matthew', 'emma', 'anthony', 'olivia', 'mark', 'emily', 'paul', 'sophia', 'steven', 'ava', 
            'andrew', 'isabella', 'joshua', 'mia', 'kenneth', 'charlotte', 'kevin', 'amelia', 'brian', 'harper',
            'george', 'evelyn', 'timothy', 'anna', 'ronald', 'hannah', 'jason', 'leah', 'edward', 'scarlett',
            'jeffrey', 'grace', 'ryan', 'lily', 'jacob', 'madison', 'gary', 'layla', 'nicholas', 'zoey',
            'eric', 'camila', 'adam', 'abigail', 'amanda', 'riley', 'jonathan', 'zoe', 'justin', 'chloe',
            'scott', 'penelope', 'brandon', 'hazel', 'frank', 'violet', 'benjamin', 'victoria', 'gregory',
            'peter', 'jack', 'nathan', 'ali', 'stephen', 'dennis', 'joshua', 'tyler', 'aaron', 'henry',
            'douglas', 'jose', 'peter', 'adam', 'zachary', 'walter', 'jerry', 'patrick', 'noah', 'amy',
            'michelle', 'kimberly', 'deborah', 'judy', 'lisa', 'sandra', 'ashley', 'donna', 'carol',
            'jessica', 'nancy', 'karen', 'betty', 'helen', 'dorothy', 'sharon', 'ruth', 'angela', 'melissa',
            'diane', 'alice', 'marie', 'ann', 'catherine', 'laura', 'rebecca', 'joyce', 'rachel', 'tina',
            'sara', 'andrea', 'nicole', 'janet', 'julia', 'sophia', 'ethan', 'mason', 'liam', 'oliver',
            'elijah', 'logan', 'lucas', 'carter', 'isaac', 'gabriel', 'owen', 'chike', 'ayo', 'tunde',
            'amina', 'fatima', 'kemi', 'tosin', 'adebola', 'chijioke', 'ugochi', 'khalid', 'agatha', 'lola',
            'emma', 'janelle', 'mahatma', 'nucture', 'peace'
          ];
          
          const nonPersonalPrefixes = [
            'info', 'infos', 'contact', 'contacts', 'support', 'mail', 'hello', 'help', 'enquiries', 
            'enquiry', 'inquiry', 'inquiries', 'store', 'sales', 'kontact', 'hi', 'official', 'service', 
            'contacto', 'admin', 'hey', 'orders', 'customercare', 'customer', 'returns', 'shop', 'delivery', 
            'kontakt', 'www', 'team', 'business', 'customers', 'chat', 'marketing', 'noreply', 'no-reply',
            'newsletter', 'billing', 'account', 'careers', 'webmaster', 'media', 'press', 'hr', 'jobs',
            'helpdesk', 'feedback', 'care', 'office', 'reception', 'assist', 'concierge', 'desk', 'general',
            'postmaster', 'automation', 'autoresponder', 'donotreply', 'no_reply', 'notifications', 'alerts',
            'system', 'mailer', 'subscription', 'subscribe', 'unsubscribe', 'payments', 'invoice', 'order',
            'shipping', 'dispatch', 'reservations', 'bookings', 'membership', 'services', 'automated', 'bot',
            'do-not-reply', 'do_not_reply', 'donot_reply', 'donot-reply', 'noreply', 'webinfo', 'infomail', 'suporte', 'soporte', 'contato', 'hola', 'boutique', 'bonjour', 'suport', 'regard', 'studios'
          ];
          
          const specialDomainTerms = ['store', 'team', 'elegance', 'shop', 'beauty', 'tech', 'studio', 'lab', 'labs'];
          
          let emailParts = email.split('@');
          let namePart = emailParts[0];
          const domainPart = emailParts[1] ? emailParts[1].split('.')[0] : '';
          
          if (domainPart && nonPersonalPrefixes.includes(namePart.toLowerCase())) {
            return domainPart.charAt(0).toUpperCase() + domainPart.slice(1);
          }
          
          if (!namePart.includes('.') && !namePart.includes('_') && !namePart.includes('-')) {
            for (const prefix of nonPersonalPrefixes) {
              if (namePart.toLowerCase().startsWith(prefix)) {
                namePart = namePart.slice(prefix.length);
                break;
              }
            }
            
            for (const firstName of commonFirstNames) {
              if (namePart.toLowerCase().startsWith(firstName) && 
                  firstName !== namePart.toLowerCase() && 
                  firstName.length >= 3) {
                return firstName.charAt(0).toUpperCase() + firstName.slice(1);
              }
            }
          }
          
          let nameParts = [];
          if (namePart.includes('.')) {
            nameParts = namePart.split('.');
          } else if (namePart.includes('_')) {
            nameParts = namePart.split('_');
          } else if (namePart.includes('-')) {
            nameParts = namePart.split('-');
          } else {
            nameParts = [namePart];
          }
          
          if (nameParts.length > 0 && nonPersonalPrefixes.includes(nameParts[0].toLowerCase())) {
            nameParts.shift();
          }
          
          if (nameParts.length > 1 && 
              nameParts[0].length < 4 && 
              !['hi', 'hey', 'www'].includes(nameParts[0].toLowerCase())) {
            // Keep both parts
          } else if (nameParts.length > 1) {
            nameParts = [nameParts[0]];
          }
          
          if (nameParts.length === 0 || nonPersonalPrefixes.includes(nameParts[0].toLowerCase())) {
            const capitalizedDomain = domainPart.charAt(0).toUpperCase() + domainPart.slice(1);
            return capitalizedDomain;
          }
          
          let formattedName = '';
          if (nameParts.length > 1 && specialDomainTerms.includes(nameParts[1].toLowerCase())) {
            formattedName = nameParts.map(part => {
              const cleanPart = part.replace(/\\d+$/, '');
              return cleanPart.charAt(0).toUpperCase() + cleanPart.slice(1);
            }).join(' ');
          } else {
            formattedName = nameParts.map(part => {
              const cleanPart = part.replace(/\\d+$/, '');
              return cleanPart.charAt(0).toUpperCase() + cleanPart.slice(1);
            }).join(' ');
          }
          
          return formattedName || domainPart.charAt(0).toUpperCase() + domainPart.slice(1) || 'there';
        }
        
        function personalizeContent(template, name) {
          return template.replace(/{name}/g, name);
        }

        self.onmessage = function(e) {
          const { emails, subjectTemplate, bodyTemplate, startIndex } = e.data;
          
          const results = emails.map((email, idx) => {
            const trimmedEmail = email.trim();
            if (!trimmedEmail) return null;
            
            const name = extractNameFromEmail(trimmedEmail);
            const personalizedSubject = encodeURIComponent(personalizeContent(subjectTemplate, name));
            const personalizedBody = encodeURIComponent(personalizeContent(bodyTemplate, name));
            
            return {
              email: trimmedEmail,
              mailto: \`mailto:\${trimmedEmail}?subject=\${personalizedSubject}&body=\${personalizedBody}\`,
              index: startIndex + idx
            };
          }).filter(item => item !== null);
          
          self.postMessage(results);
        }
      `;
      
      const worker = new Worker(URL.createObjectURL(new Blob([workerCode], {type: 'text/javascript'})));
      
      let currentBatch = 0;
      
      function processBatch() {
        const start = currentBatch * batchSize;
        const end = Math.min(start + batchSize, recipients.length);
        const batch = recipients.slice(start, end);
        
        if (batch.length === 0) {
          finishProcessing();
          return;
        }
        
        worker.postMessage({
          emails: batch,
          subjectTemplate,
          bodyTemplate,
          startIndex: start
        });
        
        currentBatch++;
      }
      
      worker.onmessage = function(e) {
        const results = e.data;
        
        // Optimized DOM updates using DocumentFragment
        const fragment = document.createDocumentFragment();
        
        results.forEach(result => {
          const linkElement = document.createElement('a');
          linkElement.href = result.mailto;
          linkElement.className = 'email-link text-green-500 hover:underline block';
          linkElement.innerText = `${result.index + 1}. ${result.email}`;
          linkElement.target = "_blank";
          
          if (clickedEmails.has(result.email)) {
            linkElement.style.color = 'orange';
          }
          
          // Optimized click handler with immediate response
          linkElement.addEventListener('click', function (event) {
            event.preventDefault();
            
            if (clickedEmails.has(result.email)) {
              showAlert(`The email address "${result.email}" has already been clicked.`, 'warning');
            } else {
              // Immediate visual feedback
              linkElement.style.color = 'orange';
              
              clickedEmails.add(result.email);
              localStorage.setItem('clickedEmails', JSON.stringify([...clickedEmails]));
              
              // Open email client
              window.open(result.mailto, '_blank');
              
              // Update counters asynchronously
              requestAnimationFrame(() => {
                updateCounters();
                updateAnalytics();
              });
              
              // Celebration milestones
              if (clickedEmails.size % 100 === 0) {
                confetti({
                  particleCount: 100,
                  spread: 70,
                  origin: { y: 0.6 }
                });
                
                showAlert("You're on a roll today! 🎉 " + clickedEmails.size + " emails sent!");
              }
            }
            
            applyEmailFilter();
          });
          
          fragment.appendChild(linkElement);
          allGeneratedEmails.push(result);
        });
        
        mailtoLinksDiv.appendChild(fragment);
        
        // Update domain stats
        results.forEach(result => {
          const domain = result.email.split('@')[1];
          domainStats[domain] = (domainStats[domain] || 0) + 1;
        });
        
        // Optimized progress update
        processedCount += results.length;
        const progressPercent = Math.min((processedCount / totalEmails) * 100, 100);
        progressBar.style.width = `${progressPercent}%`;
        
        // Continue processing or finish
        if (currentBatch * batchSize < recipients.length) {
          // Use requestAnimationFrame for smoother UI updates
          requestAnimationFrame(processBatch);
        } else {
          finishProcessing();
        }
      };
      
      function finishProcessing() {
        worker.terminate();
        
        // Faster cleanup with immediate response
        submitBtn.innerHTML = originalBtnText;
        submitBtn.disabled = false;
        
        // Quick progress bar removal
        setTimeout(() => {
          if (progressContainer.parentNode) {
            progressContainer.remove();
          }
        }, 300); // Reduced from 1000ms to 300ms
        
        // Batch update all counters and analytics
        requestAnimationFrame(() => {
          updateCounters();
          updateAnalytics();
          updateDomainStats();
        });
        
        showAlert(`Successfully generated ${processedCount} email links!`);
      }
      
      // Start processing
      processBatch();
    }

    // Optimized counter updates
    function updateCounters() {
      const total = allGeneratedEmails.length;
      const sent = clickedEmails.size;
      const remaining = total - sent;
      
      // Batch DOM updates
      requestAnimationFrame(() => {
        document.getElementById('totalCounter').textContent = total;
        document.getElementById('sentCounter').textContent = sent;
        document.getElementById('remainingCounter').textContent = remaining;
        document.getElementById('headerSentCount').textContent = sent;
        document.getElementById('headerRemainingCount').textContent = remaining;
        
        const progress = total > 0 ? (sent / total) * 100 : 0;
        document.getElementById('campaignProgress').style.width = `${progress}%`;
        document.getElementById('campaignProgressText').textContent = `${Math.round(progress)}% Complete`;
      });
    }

    // Optimized analytics updates
    function updateAnalytics() {
      const total = allGeneratedEmails.length;
      const sent = clickedEmails.size;
      const remaining = total - sent;
      
      if (total > 0) {
        const sentPercent = (sent / total) * 100;
        const remainingPercent = (remaining / total) * 100;
        
        requestAnimationFrame(() => {
          document.getElementById('sentChart').style.height = `${sentPercent}%`;
          document.getElementById('remainingChart').style.height = `${remainingPercent}%`;
        });
      }
    }

    // Optimized domain stats
    function updateDomainStats() {
      const domainStatsContainer = document.getElementById('domainStats');
      
      const sortedDomains = Object.entries(domainStats)
        .sort(([,a], [,b]) => b - a)
        .slice(0, 5);
      
      if (sortedDomains.length === 0) {
        domainStatsContainer.innerHTML = '<div class="flex items-center justify-between text-xs"><span class="text-gray-600 dark:text-gray-400">No data available</span></div>';
        return;
      }
      
      const fragment = document.createDocumentFragment();
      sortedDomains.forEach(([domain, count]) => {
        const domainElement = document.createElement('div');
        domainElement.className = 'flex items-center justify-between text-xs';
        domainElement.innerHTML = `
          <span class="text-gray-700 dark:text-gray-300">${domain}</span>
          <span class="font-medium text-blue-500">${count}</span>
        `;
        fragment.appendChild(domainElement);
      });
      
      domainStatsContainer.innerHTML = '';
      domainStatsContainer.appendChild(fragment);
    }

    // Optimized search with better debouncing
    function debounce(func, delay) {
      let timeout;
      return function (...args) {
        clearTimeout(timeout);
        timeout = setTimeout(() => func.apply(this, args), delay);
      };
    }

    const performSearch = debounce(function (query) {
      const emailLinks = document.querySelectorAll('#generatedLinks a');
      const lowerQuery = query.toLowerCase();
      let foundAny = false;

      emailLinks.forEach(link => {
        const text = link.innerText.toLowerCase();
        const match = text.includes(lowerQuery);
        foundAny = foundAny || match;
        
        const email = link.textContent.split('. ')[1];
        const isSent = clickedEmails.has(email);
        
        let shouldShow = match;
        if (currentFilter === 'sent' && !isSent) shouldShow = false;
        if (currentFilter === 'pending' && isSent) shouldShow = false;
        
        link.style.display = shouldShow ? 'block' : 'none';
        link.style.backgroundColor = match && lowerQuery ? 'rgba(74, 222, 128, 0.1)' : '';
      });

      elements.searchAlert.classList.toggle('hidden', foundAny || !lowerQuery);
    }, 150); // Reduced debounce time

    elements.emailSearch.addEventListener('input', function () {
      performSearch(this.value);
    });

    // Optimized notification system
    function showAlert(message, type = 'success') {
      const alertBox = document.createElement('div');
      
      let bgColor = 'bg-green-500';
      let icon = 'ri-check-line';
      
      if (type === 'error') {
        bgColor = 'bg-red-500';
        icon = 'ri-error-warning-line';
      } else if (type === 'warning') {
        bgColor = 'bg-yellow-500';
        icon = 'ri-alert-line';
      }
      
      alertBox.className = `alert-box fixed top-5 right-5 left-5 ${bgColor} text-white py-3 px-4 rounded-lg shadow-lg transform transition-all opacity-0 animate-fadeIn z-50`;
      alertBox.innerHTML = `
        <div class="flex items-center space-x-2">
          <i class="${icon}"></i>
          <span>${message}</span>
        </div>
      `;

      document.body.appendChild(alertBox);

      // Faster animations
      requestAnimationFrame(() => {
        alertBox.classList.remove('opacity-0');
        alertBox.classList.add('opacity-100');
      });

      setTimeout(() => {
        alertBox.classList.add('opacity-0');
        setTimeout(() => {
          if (alertBox.parentNode) {
            alertBox.remove();
          }
        }, 200);
      }, 2500); // Reduced display time
    }

    // Optimized file upload
    document.getElementById('csvUpload').addEventListener('change', function () {
      const fileInput = this;
      const fileNameDisplay = document.getElementById('fileName');
      
      if (fileInput.files.length > 0) {
        fileNameDisplay.textContent = fileInput.files[0].name;
      } else {
        fileNameDisplay.textContent = "No file selected";
      }
    });

    document.getElementById('uploadCSV').addEventListener('click', function() {
      const fileInput = document.getElementById('csvUpload');
      const file = fileInput.files[0];
      
      if (!file) {
        showAlert('Please select a file to upload.', 'error');
        return;
      }
      
      const fileExtension = file.name.split('.').pop().toLowerCase();
      if (fileExtension !== 'csv' && fileExtension !== 'txt') {
        showAlert('Please upload a valid .csv or .txt file.', 'error');
        return;
      }
      
      const uploadBtn = this;
      const originalBtnText = uploadBtn.innerHTML;
      uploadBtn.innerHTML = '<i class="ri-loader-4-line animate-spin"></i> Processing...';
      uploadBtn.disabled = true;
      
      const progressContainer = document.createElement('div');
      progressContainer.className = 'mt-4 bg-gray-200 dark:bg-gray-700 rounded-full h-2.5 overflow-hidden';
      progressContainer.innerHTML = '<div id="uploadProgress" class="bg-green-500 h-2.5 rounded-full transition-all duration-100" style="width: 0%"></div>';
      uploadBtn.parentNode.appendChild(progressContainer);
      
      const progressBar = document.getElementById('uploadProgress');
      
      const reader = new FileReader();
      reader.onload = function(event) {
        const contents = event.target.result;
        
        const worker = new Worker(URL.createObjectURL(new Blob([`
          self.onmessage = function(e) {
            const contents = e.data;
            const emailPattern = /([a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,})/g;
            const emailList = [];
            let match;
            
            while ((match = emailPattern.exec(contents)) !== null) {
              emailList.push(match[0]);
              
              if (emailList.length % 1000 === 0) {
                self.postMessage({
                  type: 'progress',
                  count: emailList.length
                });
              }
            }
            
            self.postMessage({
              type: 'complete',
              emailList: emailList
            });
          }
        `], {type: 'text/javascript'})));
        
        worker.onmessage = function(e) {
          const data = e.data;
          
          if (data.type === 'progress') {
            const progressPercent = Math.min((data.count / 10000) * 100, 90);
            progressBar.style.width = `${progressPercent}%`;
          } else if (data.type === 'complete') {
            const emailList = data.emailList;
            
            if (emailList.length > 0) {
              elements.recipientsInput.value = emailList.slice(0, 20000).join('\n');
              elements.recipientsInput.dispatchEvent(new Event('input'));
              showAlert(`Successfully extracted ${emailList.length} email addresses.`);
            } else {
              showAlert('No valid email addresses found in the file.', 'error');
            }
            
            progressBar.style.width = '100%';
            
            setTimeout(() => {
              uploadBtn.innerHTML = originalBtnText;
              uploadBtn.disabled = false;
              progressContainer.remove();
              worker.terminate();
            }, 300); // Faster cleanup
          }
        };
        
        worker.postMessage(contents);
      };
      
      reader.readAsText(file);
    });

    // Optimized theme management
    const darkModeToggle = document.getElementById('darkModeToggle');
    const themeMenu = document.getElementById('themeMenu');
    const darkIcon = document.getElementById('darkIcon');
    const lightIcon = document.getElementById('lightIcon');

    function applyTheme(theme) {
      if (theme === 'dark') {
        document.documentElement.classList.add('dark');
        document.body.classList.add('dark-custom-bg', 'text-white');
        darkIcon.classList.remove('hidden');
        lightIcon.classList.add('hidden');
      } else if (theme === 'light') {
        document.documentElement.classList.remove('dark');
        document.body.classList.remove('dark-custom-bg', 'text-white');
        darkIcon.classList.add('hidden');
        lightIcon.classList.remove('hidden');
      } else {
        const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
        applyTheme(prefersDark ? 'dark' : 'light');
      }
    }

    function saveTheme(theme) {
      localStorage.setItem('theme', theme);
    }

    function loadTheme() {
      const savedTheme = localStorage.getItem('theme') || 'system';
      applyTheme(savedTheme);
    }

    darkModeToggle.addEventListener('click', () => {
      const isVisible = themeMenu.classList.contains('opacity-100');
      themeMenu.classList.toggle('opacity-100', !isVisible);
      themeMenu.classList.toggle('invisible', isVisible);
    });

    themeMenu.addEventListener('click', (e) => {
      const selectedTheme = e.target.closest('[data-theme]')?.getAttribute('data-theme');
      if (selectedTheme) {
        saveTheme(selectedTheme);
        applyTheme(selectedTheme);
        themeMenu.classList.add('invisible');
        themeMenu.classList.remove('opacity-100');
      }
    });

    loadTheme();

    window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', () => {
      const savedTheme = localStorage.getItem('theme');
      if (savedTheme === 'system') {
        applyTheme('system');
      }
    });

    document.addEventListener('click', (e) => {
      if (!e.target.closest('#darkModeToggle') && !e.target.closest('#themeMenu')) {
        themeMenu.classList.add('invisible');
        themeMenu.classList.remove('opacity-100');
      }
    });

    // Email actions menu
    elements.emailActionsBtn.addEventListener('click', function() {
      elements.emailActionsMenu.classList.toggle('hidden');
    });

    document.addEventListener('click', function(e) {
      if (!elements.emailActionsBtn.contains(e.target) && !elements.emailActionsMenu.contains(e.target)) {
        elements.emailActionsMenu.classList.add('hidden');
      }
    });

    // Optimized action button functionality
    document.getElementById('clearHistory').addEventListener('click', function() {
      if (confirm('Are you sure you want to clear your sent email history?')) {
        localStorage.removeItem('clickedEmails');
        clickedEmails.clear();
        
        const emailLinks = document.querySelectorAll('#generatedLinks a');
        emailLinks.forEach(link => {
          link.style.color = '';
        });
        
        updateCounters();
        updateAnalytics();
        showAlert('Sent email history has been cleared!');
        elements.emailActionsMenu.classList.add('hidden');
      }
    });

    document.getElementById('copyEmails').addEventListener('click', function() {
      const emailLinks = document.querySelectorAll('#generatedLinks a');
      const emails = Array.from(emailLinks).map(link => {
        return link.innerText.split('. ')[1];
      });
      
      if (emails.length > 0) {
        navigator.clipboard.writeText(emails.join('\n'))
          .then(() => {
            showAlert(`Copied ${emails.length} email addresses to clipboard!`);
          })
          .catch(err => {
            showAlert('Failed to copy emails. Please try again.', 'error');
          });
      } else {
        showAlert('No emails to copy!', 'warning');
      }
      elements.emailActionsMenu.classList.add('hidden');
    });

    function exportEmails(onlySent) {
      const emailLinks = document.querySelectorAll('#generatedLinks a');
      const emails = [];
      
      emailLinks.forEach(link => {
        const email = link.innerText.split('. ')[1];
        const isSent = link.style.color === 'orange';
        
        if ((onlySent && isSent) || (!onlySent && !isSent) || onlySent === null) {
          emails.push(email);
        }
      });
      
      if (emails.length > 0) {
        const blob = new Blob([emails.join('\n')], { type: 'text/plain' });
        const url = URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = url;
        a.download = onlySent === null ? 'all-emails.txt' : 
                    onlySent ? 'sent-emails.txt' : 'remaining-emails.txt';
        document.body.appendChild(a);
        a.click();
        document.body.removeChild(a);
        URL.revokeObjectURL(url);
        
        showAlert(`Exported ${emails.length} email addresses!`);
      } else {
        showAlert('No emails to export!', 'warning');
      }
      elements.emailActionsMenu.classList.add('hidden');
    }

    document.getElementById('exportAll').addEventListener('click', function() {
      exportEmails(null);
    });

    document.getElementById('exportRemaining').addEventListener('click', function() {
      exportEmails(false);
    });

    // Optimized scroll functionality
    let scrollTimeout;
    window.addEventListener('scroll', function() {
      clearTimeout(scrollTimeout);
      scrollTimeout = setTimeout(() => {
        elements.scrollTopBtn.classList.toggle('visible', window.pageYOffset > 300);
      }, 100);
    });

    elements.scrollTopBtn.addEventListener('click', function() {
      window.scrollTo({ top: 0, behavior: 'smooth' });
    });

    document.getElementById('scrollToForm').addEventListener('click', function() {
      elements.emailForm.scrollIntoView({ behavior: 'smooth' });
    });

    // Template modal functionality
    elements.addTemplateBtn.addEventListener('click', function() {
      const customTemplates = JSON.parse(localStorage.getItem('customTemplates') || '[]');
      if (customTemplates.length >= 2) {
        showAlert('You can only create up to 2 custom templates. Delete an existing template to create a new one.', 'warning');
        return;
      }
      elements.templateModal.classList.remove('hidden');
    });

    elements.closeTemplateModal.addEventListener('click', function() {
      elements.templateModal.classList.add('hidden');
    });

    elements.templateModal.addEventListener('click', function(e) {
      if (e.target === elements.templateModal) {
        elements.templateModal.classList.add('hidden');
      }
    });

    // Fixed custom template saving functionality
    elements.saveTemplate.addEventListener('click', function() {
      const name = document.getElementById('templateName').value;
      const subject = document.getElementById('templateSubject').value;
      const body = document.getElementById('templateBody').value;
      const category = document.getElementById('templateCategory').value;
      
      if (!name || !subject || !body) {
        showAlert('Please fill in all template fields.', 'error');
        return;
      }
      
      // Get existing templates and check limit
      const templates = JSON.parse(localStorage.getItem('customTemplates') || '[]');
      if (templates.length >= 2) {
        showAlert('Maximum of 2 custom templates allowed. Delete an existing template first.', 'error');
        return;
      }
      
      // Save new template
      templates.push({ name, subject, body, category, id: Date.now() });
      localStorage.setItem('customTemplates', JSON.stringify(templates));
      
      // Reload templates display
      loadCustomTemplates();
      
      showAlert('Template saved successfully!');
      elements.templateModal.classList.add('hidden');
      
      // Clear form
      document.getElementById('templateName').value = '';
      document.getElementById('templateSubject').value = '';
      document.getElementById('templateBody').value = '';
    });

    // Initialize everything
    updateCounters();
    updateAnalytics();
    elements.recipientsInput.dispatchEvent(new Event('input'));
  </script>


<!-- 'It is your responsibility to notify your visitors about cookies used and data collected on your blog. Blogger makes a standard notification available for you to use on your blog, and you can customise it or replace it with your own notice. See http://www.blogger.com/go/cookiechoices for more details.' -->
<script src="js/cookienotice.js" defer></script>
<script>
  document.addEventListener('DOMContentLoaded', function(event) {
    window.cookieChoices && cookieChoices.showCookieConsentBar && cookieChoices.showCookieConsentBar(
        (window.cookieOptions && cookieOptions.msg) || 'This site uses cookies from Google to deliver its services and to analyse traffic. Your IP address and user agent are shared with Google, together with performance and security metrics, to ensure quality of service, generate usage statistics and to detect and address abuse.',
        (window.cookieOptions && cookieOptions.close) || 'Got it',
        (window.cookieOptions && cookieOptions.learn) || 'Learn more',
        (window.cookieOptions && cookieOptions.link) || 'https://www.blogger.com/go/blogspot-cookies');
  });
</script>

<script defer src="https://static.cloudflareinsights.com/beacon.min.js/vcd15cbe7772f49c399c6a5babf22c1241717689176015" integrity="sha512-ZpsOmlRQV6y907TI0dKBHq9Md29nnaEIPlkf84rnaERnq6zvWvPUqr2ft8M1aS28oN72PdrCzSjY4U6VaAw1EQ==" data-cf-beacon='{"version":"2024.11.0","token":"3c444da3cd804f848f99706ed426dbf6","r":1,"server_timing":{"name":{"cfCacheStatus":true,"cfEdge":true,"cfExtPri":true,"cfL4":true,"cfOrigin":true,"cfSpeedBrain":true},"location_startswith":null}}' crossorigin="anonymous"></script>
</body>

<!-- Mirrored from www.scoutier.com.ng/ by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 22 Jul 2025 10:55:45 GMT -->
</html>